<div *ngIf="!errorMessage">
<mat-card>
  <mat-card-header>
    <mat-card-title style="font-size: x-large">
      {{ group?.name }}
    </mat-card-title>
    <mat-card-subtitle class="card-subtitle"> </mat-card-subtitle>
    <mat-icon matListItemIcon style="margin-left: 2%; margin-top: 5px">{{
      group?.img
    }}</mat-icon>
    <button
      mat-icon-button
      class="edit-button"
      matTooltip="Editar"
      [routerLink]="group ? '/dashboard/groups/edit/' + group.id : null"
    >
      <mat-icon>edit</mat-icon>
    </button>
  </mat-card-header>
  <div class="container">Gastos del grupo</div>
  <div class="container">
    <!-- GASTOS GRUPO -->
    <section class="example-container mat-elevation-z8" tabindex="0">
      <table mat-table [dataSource]="dataSource">
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Nombre</th>
          <td mat-cell *matCellDef="let expense">{{ expense.name }}</td>
        </ng-container>

        <!-- Amount Column -->
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Monto</th>
          <td mat-cell *matCellDef="let expense">{{ expense.amount }}</td>
        </ng-container>

        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Fecha</th>
          <td mat-cell *matCellDef="let expense">
            {{ formatDate(expense.date) }}
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="th-actions">Acciones</th>
          <td mat-cell *matCellDef="let expense">
            <div class="actions-container">
              <a
                class="pointer"
                [routerLink]="['/dashboard/expense/' + expense.id]"
              >
                <mat-icon matTooltip="View expense detail" class="action-detail"
                  >assignment</mat-icon
                >
              </a>
            </div>
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns; sticky: true"
        ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <mat-paginator
        [pageSizeOptions]="[5]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
      >
      </mat-paginator>
    </section>
  </div>
  <mat-divider></mat-divider>
  <div class="button-container">
    <div class="mat-button">
      <button
        mat-raised-button
        color="warn"
        class="delete-button"
        [disabled]="true"
      >
        <mat-icon>delete</mat-icon>
        <span>Eliminar grupo</span>
      </button>
    </div>
    <div class="mat-button">
      <button
        mat-raised-button
        color="primary"
        [routerLink]="group ? '/dashboard/' + group.id + '/expense' : null"
      >
        <mat-icon>add</mat-icon>
        <span>Agregar gasto</span>
      </button>
    </div>
  </div>
</mat-card>
</div>
